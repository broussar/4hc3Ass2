<!doctype html>
<html lang="us">
<head>
	<meta charset="utf-8">
	<title>jQuery UI Example Page</title>
	<link href="css/ui-lightness/jquery-ui-1.10.3.custom.css" rel="stylesheet">
	<link href="css/style.css" rel="stylesheet">
	<script src="js/jquery-1.9.1.js"></script>
	<script src="js/paper.js"></script>
	<script src="js/jquery-ui-1.10.3.custom.js"></script>
	<script src="js/remote.js"></script>
	<script type="text/paperscript" canvas="tabs-canvas">
        
    //options
	var hitOptions = {
		segments: true,
		stroke: true,
		fill: true,
		tolerance: 5
    };
    //Create Tabs
    var bg1 = new Path();
    bg1.strokeColor = "blue";
    bg1.fillColor = "blue";
    bg1.add(new Point(39,0));
    bg1.add(new Point(40,10));
    bg1.add(new Point(10,20));
    bg1.add(new Point(10,80));
    bg1.add(new Point(39,90));
    bg1.add(new Point(39,500));
    bg1.add(new Point(1000,500));
    bg1.add(new Point(1000,0));
    var bg2 = new Path();
    bg2.strokeColor = "red";
    bg2.fillColor = "red";
    bg2.add(new Point(40,0));
    bg2.add(new Point(40,100));
    bg2.add(new Point(10,110));
    bg2.add(new Point(10,170));
    bg2.add(new Point(40,180));
    bg2.add(new Point(40,500));
    bg2.add(new Point(1000,500));
    bg2.add(new Point(1000,0));
    var bg3 = new Path();
    bg3.strokeColor = "purple";
    bg3.fillColor = "purple";
    bg3.add(new Point(41,0));
    bg3.add(new Point(41,190));
    bg3.add(new Point(10,200));
    bg3.add(new Point(10,260));
    bg3.add(new Point(41,270));
    bg3.add(new Point(41,500));
    bg3.add(new Point(1000,500));
    bg3.add(new Point(1000,0));
    var bg4 = new Path();
    bg4.strokeColor = "yellow";
    bg4.fillColor = "yellow";
    bg4.add(new Point(42,0));
    bg4.add(new Point(42,280));
    bg4.add(new Point(10,290));
    bg4.add(new Point(10,350));
    bg4.add(new Point(42,360));
    bg4.add(new Point(42,500));
    bg4.add(new Point(1000,500));
    bg4.add(new Point(1000,0));
    //Create Content for tabs
    var text = new PointText(new Point(300, 300));
    text.fillColor = "pink";
    text.content = "Hello World!";

    //Group tabs and content
    var tab1 = new Group({
        children: [bg1,text]
    });
    var tab2 = new Group({
        children: [bg2]
    });
    var tab3 = new Group({
        children: [bg3]
    });
    var tab4 = new Group({
        children: [bg4]
    });
    //translate individual peices
    tab1.translate(new Point(759,0));
    tab2.translate(new Point(759,0));
    tab3.translate(new Point(759,0));
    tab4.translate(new Point(759,0));
    //State machine to show and hide content
    //Maybe TODO use state machine

    //Interaction Functions
    var activeid, path;
    var movePath = false;
	function onMouseDown (event)
    {
        segment = path = null;
		var hitResult = project.hitTest(event.point, hitOptions);
        if(!hitResult) {
            return;
        } else {
            //get id or check what group/layer is active.
            path = hitResult.item.parent;
            console.log(path.id);

        }

        movePath = hitResult.type == 'fill';
        if(movePath) {
            //project.activeLayer.addChild(hitResult.item);
        }
    }

    function onMouseDrag(event) {
        //may need individual x boundaries
        if(movePath && path.position.x > 495 && event.delta.x < 0) {
            //slides only in x direction
            path.position.x += event.delta.x;
        }else if(movePath && path.position.x < 1265 && event.delta.x > 0) {
            path.position.x += event.delta.x;
        }
    }

    function onMouseUp(event) {
        if(path.position.x > 700)
        {
            //return to closed state
            path.position.x = 1265;
        }else if (path.position.x <= 700) {
            //move all others to closed state

            //move this to open state
            path.position.x = 495;
        }
    }



	</script>
	<style>
	</style>
</head>
<body>
    <h1>
        4HC3 Assignment 2 - TV Remote Control
    </h1>
    <div class="container">
        <div class="tv-container">
            TV
        </div>
        <div class="remote-container">
            <div class="vol-container">
                <p>
                Volume:<span id="vol-display"></span>
                </p>
                <div id="vol-control"></div>
            </div>
            <div id="main" class="main-container">
		<canvas id="tabs-canvas" height="500" width="800">
			Please try chrome, firefox, or the newest IE
		</canvas>
            </div>
        </div>
    </div>

</body>
</html>
